<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Dashboard</title>
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body { box-sizing: border-box; font-family: "Kanit", sans-serif; }
      .gradient-bg { background: linear-gradient(135deg,#1a1a2e 0%,#16213e 50%,#0f3460 100%); }
      .card-hover { transition: all 0.3s ease; }
      .card-hover:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(239,68,68,0.2); }
      .glass-effect { background: rgba(255,255,255,0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); }
      .profile-glow { box-shadow: 0 0 30px rgba(239,68,68,0.3); }
      .input-focus:focus { border-color: #ef4444; box-shadow: 0 0 0 3px rgba(239,68,68,0.1); }
      .animate-float { animation: float 6s ease-in-out infinite; }
      @keyframes float { 0%,100%{transform:translateY(0px);} 50%{transform:translateY(-10px);} }
      .social-icon { transition: all 0.3s ease; }
      .social-icon:hover { transform: scale(1.1); }
    </style>
  </head>

  <body class="gradient-bg min-h-full text-gray-100">
    <div class="min-h-full">
      <!-- Navigation Bar -->
      <nav class="glass-effect border-b border-gray-700/50 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-6 py-4">
          <div class="flex items-center justify-between">
            <!-- Logo & Brand -->
            <div class="flex items-center gap-4">
              <div class="w-12 h-12 bg-gradient-to-br from-red-500 to-red-700 rounded-xl flex items-center justify-center animate-float">
                <span class="text-2xl">üé¨</span>
              </div>
              <div>
                <h1 class="text-2xl font-bold bg-gradient-to-r from-red-400 to-red-600 bg-clip-text text-transparent">
                  MovieReview
                </h1>
                <p class="text-xs text-gray-400">‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</p>
              </div>
            </div>

            <!-- Navigation Links -->
            <div class="hidden md:flex items-center gap-6">
              <a href="/" class="flex items-center gap-2 text-gray-300 hover:text-red-400 transition-colors font-medium">
                <span>üé≠</span> ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
              </a>
              <a href="/collection" class="flex items-center gap-2 text-gray-300 hover:text-red-400 transition-colors font-medium">
                <span>üìÅ</span> ‡∏Ñ‡∏≠‡∏•‡πÄ‡∏•‡∏Å‡∏ä‡∏±‡∏ô
              </a>
            </div>

            <!-- User Menu -->
            <div class="flex items-center gap-4">
              <!-- User Profile Dropdown -->
              <div class="relative group">
                <button class="flex items-center gap-3 bg-gray-800/50 rounded-xl px-4 py-2 border border-gray-600/50 hover:bg-gray-700/50 transition-colors">
                  <% if (profile?.avatarUrl?.data) { %>
                    <img src="data:<%= profile.avatarUrl.contentType %>;base64,<%= profile.avatarUrl.data.toString('base64') %>" alt="avatar" class="w-8 h-8 rounded-full object-cover" />
                  <% } else { %>
                    <div class="w-8 h-8 rounded-full bg-gradient-to-br from-red-500 to-red-700 flex items-center justify-center text-sm font-bold text-white">
                      <%= user.name.charAt(0).toUpperCase() %>
                    </div>
                  <% } %>
                  <span class="text-gray-300 font-medium hidden sm:block"><%= user.name %></span>
                  <span class="text-gray-400">‚ñº</span>
                </button>

                <!-- Dropdown Menu -->
                <div class="absolute right-0 top-full mt-2 w-64 glass-effect rounded-2xl border border-gray-600/50 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform translate-y-2 group-hover:translate-y-0">
                  <div class="p-4 border-b border-gray-600/50">
                    <p class="font-semibold text-white"><%= user.name %></p>
                    <p class="text-sm text-gray-400"><%= user.email %></p>
                  </div>
                  <div class="p-2">
                    <a href="/user/dashboard" class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:text-white hover:bg-gray-700/50 rounded-xl transition-colors">
                      <span>üë§</span> ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô
                    </a>
                    <a href="/collection" class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:text-white hover:bg-gray-700/50 rounded-xl transition-colors">
                      <span>üìÅ</span> ‡∏Ñ‡∏≠‡∏•‡πÄ‡∏•‡∏Å‡∏ä‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô
                    </a>
                    <div class="border-t border-gray-600/50 mt-2 pt-2">
                      <form action="/logout" method="get" class="w-full">
                        <button type="submit" class="flex items-center gap-3 px-4 py-3 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-xl transition-colors w-full text-left">
                          <span>üö™</span> ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
                        </button>
                      </form>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Mobile Menu Button -->
              <button class="md:hidden p-2 bg-gray-800/50 rounded-xl border border-gray-600/50 hover:bg-gray-700/50 transition-colors">
                <span class="text-xl">‚ò∞</span>
              </button>
            </div>
          </div>

          <!-- Mobile Navigation -->
          <div class="md:hidden mt-4 pt-4 border-t border-gray-600/50">
            <div class="grid grid-cols-2 gap-4">
              <a href="/movies" class="flex items-center gap-2 text-gray-300 hover:text-red-400 transition-colors font-medium p-2">
                <span>üé≠</span> ‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
              </a>
              <a href="/reviews" class="flex items-center gap-2 text-gray-300 hover:text-red-400 transition-colors font-medium p-2">
                <span>‚≠ê</span> ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
              </a>
              <a href="/collections" class="flex items-center gap-2 text-gray-300 hover:text-red-400 transition-colors font-medium p-2">
                <span>üìÅ</span> ‡∏Ñ‡∏≠‡∏•‡πÄ‡∏•‡∏Å‡∏ä‡∏±‡∏ô
              </a>
              <a href="/top-rated" class="flex items-center gap-2 text-gray-300 hover:text-red-400 transition-colors font-medium p-2">
                <span>üèÜ</span> ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏ï‡πâ‡∏ô
              </a>
            </div>
          </div>
        </div>
      </nav>

      <div class="max-w-7xl mx-auto p-6 space-y-8">
        <!-- Profile Section -->
        <div class="glass-effect rounded-3xl p-8 card-hover">
          <div class="flex flex-col lg:flex-row items-start gap-8">
            <!-- Avatar Section -->
            <div class="flex flex-col items-center space-y-4">
              <% if (profile?.avatarUrl?.data) { %>
                <img src="data:<%= profile.avatarUrl.contentType %>;base64,<%= profile.avatarUrl.data.toString('base64') %>" alt="avatar" class="w-32 h-32 rounded-full object-cover profile-glow" />
              <% } else { %>
                <div class="w-32 h-32 rounded-full border-4 border-red-500 bg-gradient-to-br from-red-500 to-red-700 flex items-center justify-center text-4xl font-bold text-white profile-glow">
                  <%= user.name.charAt(0).toUpperCase() %>
                </div>
              <% } %>

              <!-- Status Badge -->
              <div class="flex items-center gap-2 bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-sm">
                <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå
              </div>
            </div>

            <!-- Profile Info -->
            <div class="flex-1 space-y-4">
              <div>
                <h2 class="text-3xl font-bold text-white mb-2"><%= user.name %></h2>
                <p class="text-gray-300 text-lg flex items-center gap-2">
                  <span class="text-red-400">‚úâ</span>
                  <%= user.email %>
                </p>
              </div>

              <div class="bg-gray-800/50 rounded-2xl p-4">
                <h3 class="text-red-400 font-semibold mb-2 flex items-center gap-2">
                  <span>üìù</span> ‡∏ä‡∏µ‡∏ß‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥
                </h3>
                <p class="text-gray-300 leading-relaxed">
                  <%= profile?.bio ? profile.bio.replace(/\n/g,'<br>') : '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ä‡∏µ‡∏ß‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏Ñ‡∏∏‡∏ì' %>
                </p>
              </div>

              <!-- Social Links -->
              <div class="flex flex-wrap gap-4">
                <% if (profile?.socialLinks.facebook) { %>
                  <a href="<%= profile.socialLinks.facebook %>" target="_blank" class="social-icon flex items-center gap-2 bg-blue-600/20 text-blue-400 px-4 py-2 rounded-xl hover:bg-blue-600/30 border border-blue-500/30">
                    <span class="text-xl">üìò</span> Facebook
                  </a>
                <% } %>
                <% if (profile?.socialLinks.twitter) { %>
                  <a href="<%= profile.socialLinks.twitter %>" target="_blank" class="social-icon flex items-center gap-2 bg-sky-600/20 text-sky-400 px-4 py-2 rounded-xl hover:bg-sky-600/30 border border-sky-500/30">
                    <span class="text-xl">üê¶</span> Twitter
                  </a>
                <% } %>
                <% if (profile?.socialLinks.instagram) { %>
                  <a href="<%= profile.socialLinks.instagram %>" target="_blank" class="social-icon flex items-center gap-2 bg-pink-600/20 text-pink-400 px-4 py-2 rounded-xl hover:bg-pink-600/30 border border-pink-500/30">
                    <span class="text-xl">üì∑</span> Instagram
                  </a>
                <% } %>
              </div>
            </div>
          </div>
        </div>

        <!-- Edit Profile Form -->
        <div class="glass-effect rounded-3xl p-8 card-hover">
          <h3 class="text-2xl font-bold text-white mb-6 flex items-center gap-3">
            <span class="text-red-400">‚öôÔ∏è</span> ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå
          </h3>

          <form action="/user/updateProfile" method="POST" enctype="multipart/form-data" class="space-y-6">
            <!-- Avatar Upload -->
            <div class="space-y-2">
              <label class="block text-lg font-medium text-gray-200 flex items-center gap-2">
                <span class="text-red-400">üñºÔ∏è</span> ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå
              </label>
              <div class="relative">
                <input type="file" name="avatarFile" accept="image/*" class="w-full border-2 border-gray-600 rounded-xl p-4 bg-gray-800/50 text-gray-100 input-focus transition-all file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-red-600 file:text-white file:font-medium hover:file:bg-red-700" />
              </div>
            </div>

            <!-- Bio -->
            <div class="space-y-2">
              <label class="block text-lg font-medium text-gray-200 flex items-center gap-2">
                <span class="text-red-400">üìù</span> ‡∏ä‡∏µ‡∏ß‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥
              </label>
              <textarea name="bio" rows="4" class="w-full border-2 border-gray-600 rounded-xl p-4 bg-gray-800/50 text-gray-100 input-focus transition-all resize-none" placeholder="‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏Ñ‡∏∏‡∏ì..."><%= profile?.bio ? profile.bio.replace(/</g,'&lt;').replace(/>/g,'&gt;') : '' %></textarea>
            </div>

            <!-- Social Links -->
            <div class="space-y-4">
              <h4 class="text-lg font-medium text-gray-200 flex items-center gap-2">
                <span class="text-red-400">üîó</span> ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÇ‡∏ã‡πÄ‡∏ä‡∏µ‡∏¢‡∏•‡∏°‡∏µ‡πÄ‡∏î‡∏µ‡∏¢
              </h4>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="relative">
                  <span class="absolute left-4 top-1/2 transform -translate-y-1/2 text-blue-400 text-xl">üìò</span>
                  <input type="text" name="facebook" placeholder="Facebook URL" class="w-full pl-12 pr-4 py-4 border-2 border-gray-600 rounded-xl bg-gray-800/50 text-gray-100 input-focus transition-all" value="<%= profile?.socialLinks.facebook %>" />
                </div>
                <div class="relative">
                  <span class="absolute left-4 top-1/2 transform -translate-y-1/2 text-sky-400 text-xl">üê¶</span>
                  <input type="text" name="twitter" placeholder="Twitter URL" class="w-full pl-12 pr-4 py-4 border-2 border-gray-600 rounded-xl bg-gray-800/50 text-gray-100 input-focus transition-all" value="<%= profile?.socialLinks.twitter %>" />
                </div>
                <div class="relative">
                  <span class="absolute left-4 top-1/2 transform -translate-y-1/2 text-pink-400 text-xl">üì∑</span>
                  <input type="text" name="instagram" placeholder="Instagram URL" class="w-full pl-12 pr-4 py-4 border-2 border-gray-600 rounded-xl bg-gray-800/50 text-gray-100 input-focus transition-all" value="<%= profile?.socialLinks.instagram %>" />
                </div>
              </div>
            </div>

            <button type="submit" class="bg-red-600 hover:bg-red-700 text-white font-semibold px-6 py-3 rounded-2xl transition-all w-full md:w-auto">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
          </form>
        </div>
        <!-- Stats Section -->
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-6">
          <div
            class="glass-effect rounded-2xl p-6 text-center card-hover border border-red-500/20"
          >
            <div
              class="w-16 h-16 bg-gradient-to-br from-red-500 to-red-700 rounded-2xl flex items-center justify-center mx-auto mb-4 animate-float"
            >
              <span class="text-2xl">‚≠ê</span>
            </div>
            <p class="text-4xl font-bold text-red-400 mb-2">
              <%= stats.totalReviews %>
            </p>
            <p class="text-gray-300 font-medium">‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
            <div class="mt-3 h-1 bg-gray-700 rounded-full overflow-hidden">
              <div
                class="h-full bg-gradient-to-r from-red-500 to-red-600 rounded-full animate-pulse"
                style="width: 75%"
              ></div>
            </div>
          </div>

          <div
            class="glass-effect rounded-2xl p-6 text-center card-hover border border-purple-500/20"
          >
            <div
              class="w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-700 rounded-2xl flex items-center justify-center mx-auto mb-4 animate-float"
              style="animation-delay: 1s"
            >
              <span class="text-2xl">üìÅ</span>
            </div>
            <p class="text-4xl font-bold text-purple-400 mb-2">
              <%= stats.totalCollections %>
            </p>
            <p class="text-gray-300 font-medium">‡∏Ñ‡∏≠‡∏•‡πÄ‡∏•‡∏Å‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á</p>
            <div class="mt-3 h-1 bg-gray-700 rounded-full overflow-hidden">
              <div
                class="h-full bg-gradient-to-r from-purple-500 to-purple-600 rounded-full animate-pulse"
                style="width: 60%"
              ></div>
            </div>
          </div>

          <div
            class="glass-effect rounded-2xl p-6 text-center card-hover border border-yellow-500/20"
          >
            <div
              class="w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-700 rounded-2xl flex items-center justify-center mx-auto mb-4 animate-float"
              style="animation-delay: 2s"
            >
              <span class="text-2xl">üèÜ</span>
            </div>
            <p class="text-4xl font-bold text-yellow-400 mb-2">
              <%= stats.avgRating %>
            </p>
            <p class="text-gray-300 font-medium">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</p>
            <div class="mt-3 h-1 bg-gray-700 rounded-full overflow-hidden">
              <div
                class="h-full bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-full animate-pulse"
                style="width: 85%"
              ></div>
            </div>
          </div>
        </div>

        <!-- My Reviews -->
        <div class="glass-effect rounded-3xl p-8 card-hover">
          <h2
            class="text-3xl font-bold text-white mb-6 flex items-center gap-3"
          >
            <span class="text-red-400">üé¨</span>
            ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô
          </h2>

          <% if (reviews.length > 0) { %>
          <div class="space-y-6">
            <% reviews.forEach(r => { %>
            <div
              class="bg-gradient-to-r from-gray-800/50 to-gray-700/50 rounded-2xl p-6 border border-gray-600/50 card-hover backdrop-blur-sm flex flex-col md:flex-row gap-6"
            >
              <!-- Poster ‡∏´‡∏ô‡∏±‡∏á -->
              <div class="w-full md:w-32 flex-shrink-0">
                <% if (r.movie.posterPath) { %>
                <img
                  src="https://image.tmdb.org/t/p/w500<%= r.movie.posterPath %>"
                  alt="<%= r.movie.title %>"
                  class="rounded-xl w-full"
                />
                <% } else { %>
                <div
                  class="w-full h-48 bg-gray-700 rounded-xl flex items-center justify-center text-4xl"
                >
                  üé¨
                </div>
                <% } %>
              </div>

              <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏µ‡∏ß‡∏¥‡∏ß -->
              <div class="flex-1 flex flex-col justify-between">
                <div>
                  <div
                    class="flex flex-col md:flex-row md:items-center justify-between gap-3 mb-3"
                  >
                    <h3 class="font-bold text-xl text-red-400">
                      <%= r.movie.title %>
                    </h3>

                    <div
                      class="flex items-center gap-1 bg-yellow-500/20 px-3 py-1 rounded-full"
                    >
                      <span class="text-yellow-400">‚≠ê</span>
                      <span class="text-yellow-400 font-bold"
                        ><%= r.rating %>/10</span
                      >
                    </div>

                    <!-- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ review -->
                    <span
                      class="ml-4 px-3 py-1 rounded-full font-semibold <% if(r.status === 'pending') { %> bg-yellow-400/30 text-yellow-400 <% } else if(r.status === 'approved') { %> bg-green-400/30 text-green-400 <% } else { %> bg-red-400/30 text-red-400 <% } %>"
                    >
                      <%= r.status.charAt(0).toUpperCase() + r.status.slice(1)
                      %>
                    </span>
                  </div>

                  <p
                    class="text-gray-300 leading-relaxed mb-3 bg-gray-800/30 p-4 rounded-xl"
                  >
                    "<%= r.comment %>"
                  </p>
                </div>

                <div
                  class="flex items-center justify-between text-sm text-gray-400 border-t border-gray-600/50 pt-3 mt-3"
                >
                  <span class="flex items-center gap-2">
                    <span>üìÖ</span>
                    ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏µ‡∏ß‡∏¥‡∏ß: <%= r.createdAt.toLocaleDateString() %>
                  </span>
                </div>
              </div>
            </div>
            <% }) %>
          </div>

          <% } else { %>
          <div class="text-center py-12">
            <div
              class="w-24 h-24 bg-gray-700/50 rounded-full flex items-center justify-center mx-auto mb-4"
            >
              <span class="text-4xl">üé¨</span>
            </div>
            <p class="text-gray-400 text-lg">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß</p>
            <p class="text-gray-500 text-sm mt-2">
              ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏´‡∏ô‡∏±‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏±‡∏ô‡πÄ‡∏ñ‡∏≠‡∏∞!
            </p>
          </div>
          <% } %>
        </div>

        <!-- My Collections -->
        <div class="glass-effect rounded-3xl p-8 card-hover">
          <h2
            class="text-3xl font-bold text-white mb-6 flex items-center gap-3"
          >
            <span class="text-purple-400">üìÇ</span>
            ‡∏Ñ‡∏≠‡∏•‡πÄ‡∏•‡∏Å‡∏ä‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô
          </h2>

          <% if (collections.length > 0) { %>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <% collections.forEach(c => { %>
            <a
              href="/collection"
              class="block bg-gradient-to-br from-purple-600/20 to-purple-800/20 p-6 rounded-2xl border border-purple-500/30 card-hover backdrop-blur-sm"
            >
              <div class="flex items-start justify-between mb-4">
                <div
                  class="w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-700 rounded-xl flex items-center justify-center"
                >
                  <span class="text-xl">üìö</span>
                </div>
                <div
                  class="bg-purple-500/20 text-purple-300 px-3 py-1 rounded-full text-sm font-medium"
                >
                  <%= c.movies.length %> ‡∏´‡∏ô‡∏±‡∏á
                </div>
              </div>
              <h3 class="font-bold text-xl text-purple-300 mb-3">
                <%= c.name %>
              </h3>
              <p class="text-gray-300 text-sm leading-relaxed mb-4">
                <%= c.description || '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢' %>
              </p>
              <div class="flex items-center text-xs text-gray-400">
                <span class="flex items-center gap-1">
                  <span>üé≠</span>
                  ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏ô‡∏±‡∏á: <%= c.movies.length %>
                </span>
              </div>
            </a>
            <% }) %>
          </div>
          <% } else { %>
          <div class="text-center py-12">
            <div
              class="w-24 h-24 bg-gray-700/50 rounded-full flex items-center justify-center mx-auto mb-4"
            >
              <span class="text-4xl">üìÅ</span>
            </div>
            <p class="text-gray-400 text-lg">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≠‡∏•‡πÄ‡∏•‡∏Å‡∏ä‡∏±‡∏ô</p>
            <p class="text-gray-500 text-sm mt-2">
              ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≠‡∏•‡πÄ‡∏•‡∏Å‡∏ä‡∏±‡∏ô‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö!
            </p>
          </div>
          <% } %>
        </div>

        <!-- Recent Activities -->
        <div class="glass-effect rounded-3xl p-8 card-hover">
          <h2
            class="text-3xl font-bold text-white mb-6 flex items-center gap-3"
          >
            <span class="text-green-400">üïí</span>
            ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
          </h2>
          <% if (recentActivities.length > 0) { %>
          <div class="space-y-3">
            <% recentActivities.forEach(a => { %>
            <div
              class="bg-gradient-to-r from-green-600/10 to-green-800/10 p-4 rounded-2xl border border-green-500/20 card-hover backdrop-blur-sm"
            >
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                  <div
                    class="w-10 h-10 bg-gradient-to-br from-green-500 to-green-700 rounded-xl flex items-center justify-center"
                  >
                    <span class="text-sm">‚ú®</span>
                  </div>
                  <span class="text-gray-200 font-medium"><%= a.text %></span>
                </div>
                <div
                  class="flex items-center gap-2 text-xs text-gray-400 bg-gray-800/30 px-3 py-1 rounded-full"
                >
                  <span>‚è∞</span>
                  <%= a.date.toLocaleString() %>
                </div>
              </div>
            </div>
            <% }) %>
          </div>
          <% } else { %>
          <div class="text-center py-12">
            <div
              class="w-24 h-24 bg-gray-700/50 rounded-full flex items-center justify-center mx-auto mb-4"
            >
              <span class="text-4xl">üïí</span>
            </div>
            <p class="text-gray-400 text-lg">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</p>
            <p class="text-gray-500 text-sm mt-2">
              ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà!
            </p>
          </div>
          <% } %>
        </div>
      </div>
      </div>
    </div>
  </body>
</html>
